[전체 기획]
언리얼 엔진5 블루프린트와 c++의 혼용으로 "Lost Ark"게임의 보스레이드 모작

[주요 목표]
블루프린트와 c++를 활용하여 LostArk 게임의 보스레이드 모작을 진행하나 블루프린트를 활용하면 효율적인 부분에는 블루프린트, c++을 활용하면 효율적인 부분에는 c++를 적용시켜
만드는것이 목표. 다만, Lyra의 프레임워크를 따라갈것임. Lyra에서 가져온 플러그인으로 Game Ability System, Modular Gameplay, Modular Gameplay Actors, CommonUI, UIExtension,
CommonGame, CommonUser, GamePlayMessageRouter가 있음. gamefeature의 경우 이번프로젝트에서는 적용하지않으나 Lyra의 철학인 모듈화는 따라감. Experience는 프로젝트에
적용. 원작의 경우 4인 멀티 파티로 진행하는게 일반적이나 이번 프로젝트에서는 싱글로 진행. (보스와 플레이어의 1:1)

[현재 보유 에셋]
보스 몬스터 : Contents/ParagonSevarog
Sevarog 보유 모션 ( Cast, Emote_Pointing_MC_T3, Emote_pull_MC_T1, Speedburst, Soul_Siphon, Subjugation, Swing1, Swing2,  Swing3, Ultimate_Swing)

플레이어 : Contents/ParagonKwang
kwang 보유 모션 ( 칼던지고 받기, 회전하며 베기, 칼 앞으로 쥐며 힘모으기, 평타a, 평타b, 평타c, 평타d, 귀환)

Combo_Attack_02
Combo_Attack_01_04_Seq
Attack_Air_to_Floor_01
Attack_UP_Floor_To_Air_02_Seq
Roll_Combat_F_0_Seq
Run_Attack_01_Seq

[구현 목표]
프로그램 실행시 캐릭터 선택창에서 ParagonKwang 캐릭터 선택가능. 선택후 게임시작 버튼 클릭시 보스가 있는 레벨 진입. 보스는 플레이어에게 랜덤하게 일반패턴 진행,
일정시간마다 시간제 패턴 진행, 일정 피가 되면 특수패턴진행. 플레이어는 스페이스바 회피, qwerasdf칸에 할당된 총 8개의 전투, 버프 스킬 사용가능. 1234칸에 배정된 배틀아이템 사용가능
(HP포션,일정시간 공격력을 상승시키는 아드로핀, 적이 받는 데미지를 증폭시켜주는 암흑수류탄, 아이덴티티 게이지를 회복시켜주는 각성물약)
보스 처치시 짧은 승리모션후 게임종료

[5주 로드맵]

 * 1주차: C++ Core & Camera (Foundation)
     * Build.cs 모듈 설정 (GAS, CommonUI 등).
     * C++: AMyCPPProjectCharacter 생성, PlayerStae(GAS 초기화 포함), AMyCPPProjectController (클릭 이동).
     * C++: ACPPProjectGameMode.
     * Blueprint: 쿼터뷰 카메라 및 입력 매핑(IMC).
     * Paragon Kwang: 리타겟팅 및 캐릭터 BP 적용.
 * 2주차: C++ GAS Combat System
     * C++: AttributeSet (HP, MP, IdentityGauge, Stagger).
     * C++: GameplayAbility Base Class (스킬 쿨타임, 비용 로직).
     * Abilities: 평타(Combo), 스킬 3종 구현.
 * 3주차: C++ Boss AI (Sevarog)
     * C++: AIController, BTTask (Custom Logic).
     * Pattern: 페이즈 전환, 광역기, 어그로 시스템.
 * 4주차: UI & System
     * C++: CommonActivatableWidget을 상속받은 HUD 클래스.
     * UI: 체력바, 데미지 플로팅, 스킬 슬롯.
 * 5주차: Polish
     * VFX, SFX, 타격감 개선 (HitStop).


[구현계획]
1. UMyPawnData (DataAsset)
 * 역할: "이 캐릭터는 어떤 Pawn 클래스이고, 어떤 스킬과 입력 설정을 쓰는가?"
 * 이동할 데이터:
     * PawnClass (BP_Kwang)
     * StartupAbilities (기존 Character에 있던 것)
     * InputConfig (기존 Character에 있던 것)

2. UMyExperienceDefinition (DataAsset)
 * 역할: "이 게임 모드는 어떤 PawnData를 기본으로 쓰는가?"
 * 포함할 데이터:
     * DefaultPawnData (UMyPawnData 포인터)
     * (나중에) HUDClass, ActionSets 등

3. UMyExperienceManagerComponent (GameStateComponent)
 * 역할: 게임 시작 시 지정된 ExperienceDefinition을 로드하고, 다른 클래스들이 "지금 무슨 모드야?"라고 물어보면 알려줍니다.

4. UMyHeroComponent (PawnComponent)
 * 역할: 캐릭터가 스폰되면 ExperienceManager에게 PawnData를 달라고 요청한 뒤, GAS 초기화(InitAbilityActorInfo) + 스킬 부여(GrantAbility) + 입력 바인딩(BindInput)을 수행합니다.
 * 결과: 기존 AMyCPPProjectCharacter에 있던 복잡한 로직들이 싹 사라지고 이 컴포넌트로 이동합니다.


## 📝 오늘 한 일

1. 애니메이션 리타기팅 (IK Retargeting)
- 작업 내용: Sword_and_Shield의 애니메이션을 ParagonKwang 스켈레톤에 맞게 변환.
- 문제 해결: 리타기팅 시 목이 돌아가는 현상을 Edit Retarget Pose 모드에서 기준 포즈를 수동 교정하여 해결.
2. C++ 기반 AnimInstance 구축
- 클래스 생성: UMyCPPProjectAnimInstance (C++) 생성 및 ABP 부모 클래스로 지정.
- Lyra/GAS 연동: AbilitySystemComponent를 캐싱하고 HasGameplayTag 헬퍼 함수를 추가하여 향후 GAS 시스템과 호환되도록
설계.
- 로직 최적화: NativeUpdateAnimation에서 매 프레임 GroundSpeed와 bShouldMove를 계산. (이벤트 그래프 노드 최소화)
3. 마우스 이동 방식 최적화 (Locomotion)
- 상태 머신 구조: Idle -> Start -> Loop -> Stop 순환 구조 구현.
- 판정 기준 변경: 마우스 클릭 이동 방식에 맞춰 bShouldMove 조건을 가속도 대신 실제 속도(`GroundSpeed > 3.0f`)
기반으로 수정하여 반응성 확보.
- 반응성 개선:
    - 출발 도중 멈추는 경우를 위해 Start -> Stop 트랜지션(Early Exit) 추가.
    - Start 모션 반복 문제를 Automatic Rule 및 Time Remaining 수동 설정을 통해 해결.
4. 외형 및 카메라 설정
- 무기 분리: ABP의 Transform (Modify) Bone 노드를 사용하여 Kwang의 기본 검(weapon_r) 스케일을 0으로 조절해 숨김.
- 조작감 개선: 탑다운 뷰에 적합하도록 카메라 Spring Arm의 Lag 설정을 해제하여 캐릭터와 카메라의 동기화 최적화.

## 📋 내일 할 일

1. 이동 애니메이션과 속도의 일치 필요( 사용자 불편)
2. GA_Skill_ 구현