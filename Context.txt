[전체 기획]
언리얼 엔진5 블루프린트와 c++의 혼용으로 "Lost Ark"게임의 보스레이드 모작

[주요 목표]
블루프린트와 c++를 활용하여 LostArk 게임의 보스레이드 모작을 진행하나 블루프린트를 활용하면 효율적인 부분에는 블루프린트, c++을 활용하면 효율적인 부분에는 c++를 적용시켜
만드는것이 목표. 다만, Lyra의 프레임워크를 따라갈것임. Lyra에서 가져온 플러그인으로 Game Ability System, Modular Gameplay, Modular Gameplay Actors, CommonUI, UIExtension,
CommonGame, CommonUser, GamePlayMessageRouter가 있음. gamefeature의 경우 이번프로젝트에서는 적용하지않으나 Lyra의 철학인 모듈화는 따라감. Experience는 프로젝트에
적용. 원작의 경우 4인 멀티 파티로 진행하는게 일반적이나 이번 프로젝트에서는 싱글로 진행. (보스와 플레이어의 1:1)

[현재 보유 에셋]
보스 몬스터 : Contents/ParagonSevarog
Sevarog 보유 모션 ( Cast, Emote_Pointing_MC_T3, Emote_pull_MC_T1, Speedburst, Soul_Siphon, Subjugation, Swing1, Swing2,  Swing3, Ultimate_Swing)

플레이어 : Contents/ParagonKwang
kwang 보유 모션 ( 칼던지고 받기, 회전하며 베기, 칼 앞으로 쥐며 힘모으기, 평타a, 평타b, 평타c, 평타d, 귀환)

[구현 목표]
프로그램 실행시 캐릭터 선택창에서 ParagonKwang 캐릭터 선택가능. 선택후 게임시작 버튼 클릭시 보스가 있는 레벨 진입. 보스는 플레이어에게 랜덤하게 일반패턴 진행,
일정시간마다 시간제 패턴 진행, 일정 피가 되면 특수패턴진행. 플레이어는 스페이스바 회피, qwerasdf칸에 할당된 총 8개의 전투, 버프 스킬 사용가능. 1234칸에 배정된 배틀아이템 사용가능
(HP포션,일정시간 공격력을 상승시키는 아드로핀, 적이 받는 데미지를 증폭시켜주는 암흑수류탄, 아이덴티티 게이지를 회복시켜주는 각성물약)
보스 처치시 짧은 승리모션후 게임종료

[플레이어 캐릭터 기획]
  1. 클래스 컨셉 (Class Concept)
   * 키워드: 번개, 대검, 폭발적인 기동성
   * 전투 스타일: 거대한 검을 휘두르는 묵직한 근접 공격과 번개를 떨어뜨리는 중거리 마법을 섞어 사용합니다. 빠른 돌진기로 진입하여 강력한 한 방을 꽂는 '돌격형 딜러'입니다.
   * 아이덴티티 (Identity - Z키): 뇌전 충전 (Overcharge)
       * 적을 타격하여 게이지를 채웁니다.
       * Z키 발동 시 20초간 '뇌신 모드'에 돌입.
       * 효과: 공격 속도 20% 증가, 스킬 쿨타임 30% 감소, 모든 스킬 이펙트가 푸른색에서 붉은색 번개로 강화.

  ---

  2. 스킬 구성 (8 Skills + 1 Awakening)

  로스트아크는 스킬 타입(콤보, 지점, 홀딩, 차징, 일반)이 다양해야 재미가 있습니다. 광(Kwang)의 애니메이션을 최대한 활용할 수 있도록 구성했습니다.

  [Q] 뇌명 (Thunder Flash) - 콤보 (anim : Combo_Attack_02)
   * 타입: 콤보 (4회 입력) / 주력기
   * 설명:
       1. 전방으로 짧게 몸을 돌려 적을 벱니다.
       2. 재입력 시 검을 위로 쳐올리고 내려벱니다.
       3. 전방으로 짧게 검을 찌릅니다.
       4. 몸을 크게 돌려 검을 휘두릅니다.
   * 특수 효과: 피격 이상 면역(슈퍼아머 - 경직 무시).

  [W] 낙뢰참 (Lightning Cleave) - 일반 / 견제기 (anim : ability_R) (area : NS_DynamicCollisionVFX5)
   * 타입: 일반
   * 설명: 제자리에서 검을 휘두름과 동시에 전방 부채꼴 범위에 번개를 뿌립니다. 적중된 적은 8초간 받는피해가 6%증가합니다.
   * 특수 효과: 시너지스킬, 적에게 받는피해 6%증가 부여

  [E] 벼락의 심판 (Judgement) - 지점 / 원거리 (anim : ability_Q_throw)
   * 타입: 지점 조작 (Point & Click)
   * 설명: 마우스 커서 위치에 검을 공중에서 소환해 꽂아버립니다. 꽂힌 검 주변에 지속적인 번개 장판 데미지를 줍니다.

  [R] 뇌룡승천 (Rising Dragon) - 콤보 / 광역 딜링 (anim : Attack_UP_Floor_To_Air_02_Seq & Attack_Air_to_Floor_01)
   * 타입: 콤보 (2타)
   * 설명:
       1. 회전하며 뛰어올라 1차적으로 데미지를 줍니다.
       2. 검을 내려꽂으며 주변에 충격파를 발생시킵니다.

   * 특수 효과: 무력화(중).

  [A] 전광석화 (Flash Step) - 카운터 / 이동기 (anim : Run_Attack_01_Seq)
   * 타입: 일반
   * 설명: 몸과 검을 회전시키며 앞으로 돌진합니다.
   * 특수 효과: 카운터 어택 (보스의 전조 동작 시 맞추면 무력화), 피격 이상 면역.

  [S] 뇌전 폭풍 (Storm Blade) - 홀딩 / 광역기 (anim : Recall)
   * 타입: 홀딩 (키 지속)
   * 설명: 제자리에서 검을 머리 위로 핑핑 돌리며 주변 적들을 끌어당기는 회오리를 생성합니다. 키를 놓거나 지속 시간이 끝나면 회오리가 흩어집니다.

  [D] 뇌신의 가호 (Thunder Shield) - 버프 / 쉴드 (anim : ability_RMB)
   * 타입: 일반
   * 설명: 검을 자신의 앞에 두손으로 쥐며 자신에게 번개 보호막을 씌웁니다.
   * 효과: 6초간 최대 체력의 15% 쉴드 생성 + 매 초마다 주변 적에게 데미지를 줌

  [F] 천둥 벼락 (Heaven's Fury) - 차징 / 일반필살기 (anim : execution_03_Seq)
   * 타입: 차징 (게이지 충전)
   * 설명: 기를 모아 번개 에너지를 응축시킵니다. (차징 중 이동 불가, 방향 전환 가능)
       * 오버차지(Perfect Zone) 성공 시: 전방으로 지면에 주먹을 내리쳐 충격파를 발생시킵니다.
   * 특수 효과: 무력화(최상)

  ---

  3. 각성기 (Awakening - V키)

  [V] 뇌신강림 : 라그나로크 (God of Thunder: Ragnarok)
   * 연출: 카메라가 줌아웃되며, 캐릭터가 공중으로 높이 솟구칩니다. 구름 위에서 거대한 뇌신(혹은 거대화된 검)의 형상이 나타나 지상을 향해 멸망의 벼락을 내리꽂습니다.
   * 효과: 화면 전체 범위에 막대한 데미지를 입힙니다.
   * 특수: 사용 후 아이덴티티 게이지 100% 회복.

  ---

 4. Kwang 에셋을 활용한 평타 기획 (4단 콤보)

   * 1타 (좌클릭): 우측에서 좌측으로 대각선 베어올리기.
   * 2타 (좌클릭): 좌측에서 우측으로 대각선 베어올리기.
   * 3타 (좌클릭): 우측에서 좌측으로 대각선 베어내리기.
   * 4타 (좌클릭 - 피니시): 좌측에서 우측으로 수평베기.

  < 기술적 구현 포인트 >

   1. 후딜 캔슬 (Animation Cancel):
       * 평타 4타를 치는 도중에 스킬(Q, W...)이나 회피기(Space)를 쓰면, 평타 모션이 즉시 취소되고 스킬이 나가야 합니다. 이 반응성이 없으면 조작감이 매우 답답해집니다.
   2. 오토 타겟 보정 (Auto Targeting / Magnetism):
       * 로스트아크는 마우스 방향으로 공격하지만, 근처에 적이 있으면 살짝 회전해서 맞춰줍니다. 평타 사용 시 아주 약하게 가장 가까운 적 방향으로 캐릭터를 회전시키는(targeting system & motion warping) 기능을 넣으면 타격감이 훨씬 좋아집니다.

[5주 로드맵]

 * 1주차: C++ Core & Camera (Foundation)
     * Build.cs 모듈 설정 (GAS, CommonUI 등).
     * C++: AMyCPPProjectCharacter 생성, PlayerStae(GAS 초기화 포함), AMyCPPProjectController (클릭 이동).
     * C++: ACPPProjectGameMode.
     * Blueprint: 쿼터뷰 카메라 및 입력 매핑(IMC).
     * Paragon Kwang: 리타겟팅 및 캐릭터 BP 적용.
 * 2주차: C++ GAS Combat System
     * C++: AttributeSet (HP, MP, IdentityGauge, Stagger).
     * C++: GameplayAbility Base Class (스킬 쿨타임, 비용 로직).
     * Abilities: 평타(Combo), 스킬 구현.
 * 3주차: C++ Boss AI (Sevarog)
     * C++: AIController, BTTask (Custom Logic).
     * Pattern: 페이즈 전환, 광역기, 어그로 시스템.
 * 4주차: UI & System
     * C++: CommonActivatableWidget을 상속받은 HUD 클래스.
     * UI: 체력바, 데미지 플로팅, 스킬 슬롯.
 * 5주차: Polish
     * VFX, SFX, 타격감 개선 (HitStop).


[구현계획]
1. UMyPawnData (DataAsset)
 * 역할: "이 캐릭터는 어떤 Pawn 클래스이고, 어떤 스킬과 입력 설정을 쓰는가?"
 * 이동할 데이터:
     * PawnClass (BP_Kwang)
     * StartupAbilities (기존 Character에 있던 것)
     * InputConfig (기존 Character에 있던 것)

2. UMyExperienceDefinition (DataAsset)
 * 역할: "이 게임 모드는 어떤 PawnData를 기본으로 쓰는가?"
 * 포함할 데이터:
     * DefaultPawnData (UMyPawnData 포인터)
     * (나중에) HUDClass, ActionSets 등

3. UMyExperienceManagerComponent (GameStateComponent)
 * 역할: 게임 시작 시 지정된 ExperienceDefinition을 로드하고, 다른 클래스들이 "지금 무슨 모드야?"라고 물어보면 알려줍니다.

4. UMyHeroComponent (PawnComponent)
 * 역할: 캐릭터가 스폰되면 ExperienceManager에게 PawnData를 달라고 요청한 뒤, GAS 초기화(InitAbilityActorInfo) + 스킬 부여(GrantAbility) + 입력 바인딩(BindInput)을 수행합니다.
 * 결과: 기존 AMyCPPProjectCharacter에 있던 복잡한 로직들이 싹 사라지고 이 컴포넌트로 이동합니다.


[어제 한 일]

W / 즉시 발동, 적에게 받피증 디버프(GE_DamageAmp) 부여.
D / 자신에게 쉴드(GE_Shield) 및 도트 딜 오라 부여.
A / C++ `RotateToCursor` 구현으로 마우스 방향 회전 후 돌진. 루트 모션 활용.
E / C++ `AMyAoEActor` 제작. 마우스 위치(GetHeroCursorHit)에 장판 소환. 

    ExposeOnSpawn으로 지속시간/데미지 동적 제어.
R / 공중 콤보 구현. C++ `LaunchAvatarCharacter` & `SetGravityScale`로 물리적인 도약과 강습(찍기) 구현.
S / Wait Input Release를 활용해 키를 누르는 동안만 스킬 유지.
F / C++ `UGameplayAbility_Charge` 제작. GetRealTimeSeconds로 정확한 차징 시간 계산. 2초 이상 차징 시 데미지     2배 분기 처리

[부가적으로 완료한 내용]
 * AttributeSet 고도화: Damage 메타 속성 추가 및 DamageScale(피증 시너지) 반영.
 * 피격 로직 구현: 공격자의 태그를 분석하여 경직 없음/약경직/넉백/다운/스턴을 구분하고 이벤트를 쏘는 C++ 기반 마련.
 * 유연한 설계: 태그 유무에 따라 보스의 공격이 플레이어를 멈추게 할지, 데미지만 줄지 결정할 수 있는 체계 구축.

[오늘 할 일]

1. 보스몬스터 기초 마련
2. 플레이어 스킬 collision, 판정 구현
